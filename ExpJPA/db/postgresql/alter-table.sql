SET search_path TO exp;
ALTER TABLE session ADD FOREIGN KEY (experiment_id_experiment) REFERENCES experiment (id_experiment) ON DELETE CASCADE;
ALTER TABLE sequence_element ADD FOREIGN KEY (session_id_session) REFERENCES session (id_session) ON DELETE CASCADE;
ALTER TABLE pause ADD FOREIGN KEY (sequence_element_idsequence_element) REFERENCES sequence_element (idsequence_element) ON DELETE CASCADE;
ALTER TABLE cohort ADD FOREIGN KEY (session_id_session) REFERENCES session (id_session) ON DELETE CASCADE;
ALTER TABLE quiz ADD FOREIGN KEY (sequence_element_idsequence_element) REFERENCES sequence_element (idsequence_element) ON DELETE CASCADE;
ALTER TABLE treatment_block ADD FOREIGN KEY (sequence_element_idsequence_element) REFERENCES sequence_element(idsequence_element) ON DELETE CASCADE;
ALTER TABLE treatment_block_has_treatment ADD FOREIGN KEY (treatment_block_sequence_element_idsequence_element) REFERENCES treatment_block (sequence_element_idsequence_element) ON DELETE CASCADE;
ALTER TABLE treatment_block_has_treatment ADD FOREIGN KEY (treatment_id_treatment) REFERENCES treatment (id_treatment) ON DELETE CASCADE;
ALTER TABLE subject ADD FOREIGN KEY (cohort_id_cohort) REFERENCES cohort (id_cohort) ON DELETE CASCADE;
ALTER TABLE period ADD FOREIGN KEY (treatment_block_sequence_element_idsequence_element) REFERENCES treatment_block (sequence_element_idsequence_element) ON DELETE CASCADE;
ALTER TABLE period ADD FOREIGN KEY (treatment_id_treatment) REFERENCES treatment(id_treatment) ON DELETE CASCADE;
ALTER TABLE protocol ADD FOREIGN KEY (subject_id_subject) REFERENCES subject (id_subject) ON DELETE CASCADE;
ALTER TABLE protocol ADD FOREIGN KEY (quiz_sequence_element_idsequence_element) REFERENCES quiz(sequence_element_idsequence_element) ON DELETE CASCADE;
ALTER TABLE subject_group ADD FOREIGN KEY (period_id_period) REFERENCES period(id_period) ON DELETE CASCADE;
ALTER TABLE trial ADD FOREIGN KEY (subject_group_id_subject_group) REFERENCES subject_group (id_subject_group) ON DELETE RESTRICT;
ALTER TABLE trial ADD FOREIGN KEY (subject_id_subject) REFERENCES subject(id_subject)  ON DELETE CASCADE;
ALTER TABLE membership ADD FOREIGN KEY (subject_id_subject) REFERENCES subject(id_subject)  ON DELETE CASCADE;
ALTER TABLE membership ADD FOREIGN KEY (subject_group_id_subject_group) REFERENCES subject_group (id_subject_group) ON DELETE CASCADE;